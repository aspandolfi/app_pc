<div class="card mb-3">
  <div class="card-header clearfix">
    Situação
  </div>
  <div class="card-body">
    <div class="form-row">
      <div class="form-group col-md-6">
        <label for="situacoes" class="control-label">Situação Atual</label>
        <ng-select [items]="situacoes"
                   bindLabel="descricao"
                   bindValue="id"
                   [searchable]="false"
                   (change)="onSituacaoChange($event)"
                   [clearable]="false"
                   [(ngModel)]="selectedSituacaoId">
        </ng-select>
      </div>
    </div>

    <div class="form-row" *ngIf="situacao.id == 2">
      <div class="form-group col-md-6">
        <label for="motivos" class="control-label">Motivo:</label>
        <ng-select [items]="situacao.tipos"
                   bindLabel="descricao"
                   bindValue="id"
                   [searchable]="false"
                   [clearable]="false"
                   id="motivos">
        </ng-select>
      </div>
    </div>

    <div class="form-row" *ngIf="situacao.id == 3">
      <div class="form-group col-md-6">
        <label for="motivos" class="control-label">Motivo:</label>
        <ng-select [items]="situacao.tipos"
                   bindLabel="descricao"
                   bindValue="id"
                   [searchable]="false"
                   [clearable]="false"
                   id="motivos">
        </ng-select>
      </div>
    </div>

    <div class="form-row">
      <div class="form-group col-md">
        <label for="observacao" class="control-label">Observação:</label>
        <textarea class="form-control form-control-sm" [(ngModel)]="observacao" name="observacao"></textarea>
      </div>
    </div>

  </div>
</div>

<div class="card mb-3">
  <div class="card-header clearfix">
    Movimentações
  </div>
  <div class="card-body">
    <div class="text-left" *ngIf="isLoadingMovimentacoes">
      <div class="spinner-border spinner-border-sm" role="status">
        <span class="sr-only">Loading...</span>
      </div>
    </div>
    <app-ultima-movimentacao [ultimasMovimentacoes]="movimentacoes" [titulo]="''"></app-ultima-movimentacao>
  </div>
</div>
